(this["webpackJsonpnoteful-client"]=this["webpackJsonpnoteful-client"]||[]).push([[0],{190:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n(3),c=n.n(r),a=n(74),i=n.n(a),s=n(197),l=(n(82),n(36)),d=n(37),u=n(4),h=n(5),j=n(7),f=n(6),p=n(76),b=n(35),m=c.a.createContext({notes:[],folders:[],addNote:function(){},deleteNote:function(){},addFolder:function(){},deleteFolder:function(){}}),O=n(196),x=(n(83),function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.context.folders;return Object(o.jsx)("div",{className:"FolderDiv",children:Object(o.jsxs)("ul",{className:"FolderList",children:[e.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(O.a,{className:"FolderLink",to:"/folder/".concat(e.id),children:e.name})},e.id)})),Object(o.jsx)(b.a,{to:"/add-folder",children:Object(o.jsx)("button",{className:"add-folder-button",children:"Add New Folder"})})]})})}}]),n}(c.a.Component));x.contextType=m;n(87),n(190);var v=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClickDelete=function(t){t.preventDefault();var n=e.props.id;e.props.history.push("/"),fetch("http://localhost:8000/api/notes/".concat(n),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)return e.json().then((function(e){return Promise.reject(e)}))})).then((function(){e.context.deleteNote(n)})).catch((function(e){console.error({error:e})}))},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(o.jsxs)("div",{className:"Note",children:[Object(o.jsx)("h2",{className:"NoteTitle",children:Object(o.jsx)(b.a,{to:"/note/".concat(this.props.id),children:this.props.name})}),Object(o.jsx)("button",{className:"NoteDelete",type:"button",onClick:this.handleClickDelete,children:"Remove"}),Object(o.jsx)("div",{className:"NoteDates",children:Object(o.jsxs)("div",{className:"NoteModified",children:["Modified: ","",Object(o.jsx)("span",{className:"Date",children:this.props.modified})]})})]})}}]),n}(c.a.Component);v.default={onDeleteNote:function(){}},v.contextType=m;n(191);var y=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClickDelete=function(t){t.preventDefault();var n=e.props.match.params.folderId;e.props.history.push("/"),fetch("http://localhost:8000/api/folders/".concat(n),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)return e.json().then((function(e){return Promise.reject(e)}))})).then((function(){return e.context.deleteFolder(n)})).catch((function(e){console.error({error:e})}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props.match.params.folderId,n=this.context.notes,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t?e.filter((function(e){return e.folder.toString()===t})):e}(void 0===n?[]:n,t);return Object(o.jsxs)("section",{className:"MainList",children:[Object(o.jsx)("ul",{children:r.map((function(t){return Object(o.jsx)("li",{children:Object(o.jsx)(v,{id:t.id,name:t.name,modified:t.modified,history:e.props.history})},t.id)}))}),void 0!==t&&Object(o.jsx)("button",{onClick:function(t){return e.handleClickDelete(t)},children:"Delete Folder"}),Object(o.jsx)(b.a,{to:"/add-note",children:Object(o.jsx)("button",{className:"add-note-button",children:"Add New Note"})})]})}}]),n}(c.a.Component);y.default={match:{params:{}}},y.contextType=m;n(192);var N=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((function(t){return t.id.toString()===e}))}(this.context.notes,this.props.match.params.noteId)||{content:""};return Object(o.jsxs)("section",{className:"NotePage",children:[Object(o.jsx)(v,{id:t.id,name:t.name,modified:t.modified,history:this.props.history}),Object(o.jsx)("div",{className:"NotePageContent",children:t.content.split(/\n \r/).map((function(e,t){return Object(o.jsx)("p",{children:e},t)}))}),Object(o.jsx)("div",{className:"BackButton",children:Object(o.jsxs)("button",{onClick:function(){return e.props.history.goBack()},children:[Object(o.jsx)("br",{}),"Back"]})})]})}}]),n}(c.a.Component);N.contextType=m,N.default={notes:[]};var k=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.preventDefault();var n={name:t.target["note-name"].value,content:t.target["note-content"].value,folder:t.target["note-folder-id"].value,modified:new Date};fetch("http://localhost:8000/api/notes",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.context.addNote(t),e.props.history.push("/folder/".concat(t.folder))})).catch((function(e){console.error({error:e})}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.context.folders,n=void 0===t?[]:t;return Object(o.jsxs)("section",{className:"AddNote",children:[Object(o.jsx)("h2",{children:"Create a note"}),Object(o.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(o.jsxs)("div",{className:"field",children:[Object(o.jsxs)("label",{htmlFor:"note-name-input",children:["Name:"," "]}),Object(o.jsx)("input",{type:"text",id:"note-name-input",name:"note-name",required:!0})]}),Object(o.jsxs)("div",{className:"field",children:[Object(o.jsxs)("label",{htmlFor:"note-content-input",children:["Content:"," "]}),Object(o.jsx)("textarea",{id:"note-content-input",name:"note-content"})]}),Object(o.jsxs)("div",{className:"field",children:[Object(o.jsxs)("label",{htmlFor:"note-folder-select",children:["Folder:"," "]}),Object(o.jsxs)("select",{id:"name-folder-select",name:"note-folder-id",children:[Object(o.jsx)("option",{value:null,children:"..."}),n.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(o.jsx)("div",{className:"buttons",children:Object(o.jsx)("button",{type:"submit",children:"Submit"})})]}),Object(o.jsx)("button",{onClick:function(){return e.props.history.goBack()},children:"Cancel"})]})}}]),n}(c.a.Component);k.default={history:{push:function(){}}},k.contextType=m;var g=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.preventDefault();var n={name:t.target["folder-name"].value};fetch("http://localhost:8000/api/folders",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.context.addFolder(t),e.props.history.push("/folder/".concat(t.id))})).catch((function(e){console.error({error:e})}))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(o.jsxs)("section",{className:"AddFolder",children:[Object(o.jsx)("h2",{children:"Create a folder"}),Object(o.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(o.jsxs)("div",{className:"field",children:[Object(o.jsx)("label",{htmlFor:"folder-name-input",children:"Name: "}),Object(o.jsx)("input",{type:"text",id:"folder-name-input",name:"folder-name",required:!0})]}),Object(o.jsx)("div",{className:"buttons",children:Object(o.jsx)("button",{type:"submit",children:"Add folder"})})]}),Object(o.jsx)("button",{onClick:function(){return e.props.history.goBack()},children:"Cancel"})]})}}]),n}(c.a.Component);g.default={history:{push:function(){}}},g.contextType=m;n(193);var F=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).state={hasError:!1},e}return Object(h.a)(n,[{key:"render",value:function(){return this.state.hasError?Object(o.jsx)("h2",{children:"Could not display This Note."}):this.props.children}}],[{key:"getErrorState",value:function(e){return{hasError:!0}}}]),n}(c.a.Component),C=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={notes:[],folders:[]},e.handleDeleteNote=function(t){e.setState({notes:e.state.notes.filter((function(e){return e.id!==t}))})},e.handleDeleteFolder=function(t){e.setState({folders:e.state.folders.filter((function(e){return e.id.toString()!==t}))})},e.handleAddNote=function(t){return[e.setState({notes:[].concat(Object(d.a)(e.state.notes),[t])})]},e.handleAddFolder=function(t){return[e.setState({folders:[].concat(Object(d.a)(e.state.folders),[t])})]},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("http://localhost:8000/api/notes"),fetch("http://localhost:8000/api/folders")]).then((function(e){var t=Object(l.a)(e,2),n=t[0],o=t[1];return n.ok?o.ok?Promise.all([n.json(),o.json()]):o.json().then((function(e){return Promise.reject(e)})):n.json().then((function(e){return Promise.reject(e)}))})).then((function(t){var n=Object(l.a)(t,2),o=n[0],r=n[1];e.setState({notes:o,folders:r})})).catch((function(e){console.error({error:e})}))}},{key:"renderFolderList",value:function(){return Object(o.jsx)(o.Fragment,{children:["/","/folder/:folderId"].map((function(e){return Object(o.jsx)(p.a,{exact:!0,path:e,component:x},e)}))})}},{key:"renderMain",value:function(){return Object(o.jsxs)(o.Fragment,{children:[["/","/folder/:folderId"].map((function(e){return Object(o.jsx)(p.a,{exact:!0,path:e,component:y},e)})),Object(o.jsx)(p.a,{path:"/note/:noteId",component:N}),Object(o.jsx)(p.a,{path:"/add-note",component:k}),Object(o.jsx)(p.a,{path:"/add-folder",component:g})]})}},{key:"render",value:function(){var e={notes:this.state.notes,folders:this.state.folders,deleteNote:this.handleDeleteNote,deleteFolder:this.handleDeleteFolder,addNote:this.handleAddNote,addFolder:this.handleAddFolder};return Object(o.jsx)(m.Provider,{value:e,children:Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(F,{children:[Object(o.jsx)("nav",{className:"Folders",children:this.renderFolderList()}),Object(o.jsx)("header",{className:"Header",children:Object(o.jsx)("h1",{children:Object(o.jsx)(b.a,{to:"/",children:"Noteful"})})}),Object(o.jsx)("main",{className:"AppMain",children:this.renderMain()})]})})})}}]),n}(r.Component);i.a.render(Object(o.jsx)(s.a,{children:Object(o.jsx)(C,{})}),document.getElementById("root"))},82:function(e,t,n){},83:function(e,t,n){}},[[194,1,2]]]);
//# sourceMappingURL=main.ceeecc09.chunk.js.map